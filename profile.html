<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>Profile | Myanmar Cosplay Society</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="icon" href="assets/logos/409741896_326847926966167_8324030770226370805_n.jpg">
  <style>
    .profile-card {
      max-width: 500px;
      margin: 48px auto;
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 2px 12px #0001;
      padding: 32px 24px;
      text-align: center;
    }
    .profile-avatar {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      object-fit: cover;
      margin-bottom: 16px;
      border: 4px solid #fcb90f;
    }
    .profile-card h2 {
      margin-bottom: 4px;
    }
    .profile-card .profile-bio {
      color: #444;
      font-size: 1.05rem;
      margin-bottom: 16px;
    }
    .profile-section {
      margin-top: 18px;
      text-align: center;
    }
    .profile-section ul {
      list-style: none;
      margin: 0;
      padding: 0;
      display: inline-block;
      text-align: left;
    }
    .profile-section ul li {
      margin-bottom: 7px;
    }
    .edit-profile-btn {
      margin-top: 16px;
    }
  </style>
</head>
<body>
  <header>
    <div class="container nav-flex">
      <img src="assets/logos/409741896_326847926966167_8324030770226370805_n.jpg" alt="MCS Logo" class="logo">
      <nav>
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="events.html">Events</a></li>
          <li><a href="gallery.html">Gallery</a></li>
          <li><a href="contact.html">Contact</a></li>
          <li><a href="login.html">Admin Login</a></li>
        </ul>
      </nav>
    </div>
  </header>
  <main>
    <!-- Not Logged In -->
    <div id="not-logged-in" style="display: none;">
      <section>
        <div class="profile-card">
          <h2>Please Log In</h2>
          <p>You need to be logged in to view your profile.</p>
          <a href="login.html" class="btn-primary">Go to Login</a>
        </div>
      </section>
    </div>

    <!-- User Profile -->
    <div id="user-profile" style="display: none;">
      <section>
        <div class="profile-card">
          <img id="user-avatar" src="assets/events/avatar1.jpg" alt="User Avatar" class="profile-avatar">
          <h2 id="user-name">Loading...</h2>
          <div class="profile-bio">
            <span id="user-email">Loading...</span><br>
            <span id="user-location">Cosplay Community Member</span>
          </div>
          <div class="profile-section">
            <h4>Account Info</h4>
            <ul>
              <li><strong>Login Method:</strong> <span id="login-method">-</span></li>
              <li><strong>Member Since:</strong> <span id="member-since">-</span></li>
              <li><strong>Last Login:</strong> <span id="last-login">-</span></li>
            </ul>
          </div>
          <div class="profile-section">
            <h4>Interests</h4>
            <ul>
              <li>Anime Cosplay</li>
              <li>Game Characters</li>
              <li>Props Crafting</li>
            </ul>
          </div>
          <div class="profile-section">
            <h4>Recent Events</h4>
            <ul>
              <li>Welcome to MCS Community!</li>
              <li>Stay tuned for upcoming events</li>
            </ul>
          </div>
          <button class="btn-primary edit-profile-btn" onclick="alert('Edit profile coming soon!')">Edit Profile</button>
          <button class="btn-secondary" onclick="logout()" style="margin-left: 8px;">Logout</button>
        </div>
      </section>
    </div>
  </main>
  <footer>
    <div class="container footer-flex">
      <div>
        <img src="assets/logos/409741896_326847926966167_8324030770226370805_n.jpg" alt="MCS Logo" class="footer-logo">
        <span>Â© 2025 Myanmar Cosplay Society</span>
      </div>
      <div>
        <a href="https://www.facebook.com/MCSmm2023" target="_blank">Facebook</a>
        <a href="contact.html">Contact</a>
      </div>
    </div>
  </footer>
  <script src="js/app.js"></script>
  <script src="js/auth.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const currentUser = JSON.parse(sessionStorage.getItem('currentUser') || 'null');
      
      if (!currentUser) {
        document.getElementById('not-logged-in').style.display = 'block';
        return;
      }
      
      // Show user profile
      document.getElementById('user-profile').style.display = 'block';
      
      // Populate user data
      document.getElementById('user-name').textContent = currentUser.name || 'Anonymous User';
      document.getElementById('user-email').textContent = currentUser.email || 'No email';
      document.getElementById('login-method').textContent = 
        currentUser.loginMethod === 'gmail' ? 'ðŸ“§ Gmail' : 'ðŸ”‘ Traditional';
      
      // Set avatar if available
      if (currentUser.picture) {
        document.getElementById('user-avatar').src = currentUser.picture;
      }
      
      // Format dates
      if (currentUser.signupTime) {
        const signupDate = new Date(currentUser.signupTime).toLocaleDateString();
        document.getElementById('member-since').textContent = signupDate;
      }
      
      if (currentUser.loginTime) {
        const loginDate = new Date(currentUser.loginTime).toLocaleString();
        document.getElementById('last-login').textContent = loginDate;
      }
    });
  </script>
</body>
</html>
